<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/animations.css" id="animations-stylesheet">
    <link rel="stylesheet" href="vendor/Coloris/coloris.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">

    <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
    <script src="vendor/localForage/localforage.min.js"></script>
    <script src="vendor/msgpack-lite/msgpack.min.js"></script>
    <script src="vendor/DOMPurify/purify.min.js"></script>
    <script src="vendor/Coloris/coloris.min.js"></script>
    <script src="vendor/html2canvas.min.js"></script>
    <script src="vendor/matrix.js"></script>

    <script src="js/color.js"></script>
    <script type="module" src="js/index.js"></script>

    <title>Graph</title>
</head>

<body>
    <div id="title-div" class="unselectable">
        <input id="title" placeholder="Untitled" maxlength="255">
        <p id="save-status" class="no-print">Unsaved</p>
    </div>

    <div class="no-print">
        <div class="sidebar" id="left-sidebar">
            <button class="sidebar-button sb" id="left-sidebar-mobile-open">
                <span class="material-symbols-outlined">
                    menu
                </span>
            </button>
            <button class="sidebar-button sb" id="menu">
                <span class="material-symbols-outlined">
                    folder
                </span>
            </button>
            <button class="sidebar-button sb" id="image-button">
                <span class="material-symbols-outlined">
                    add_photo_alternate
                </span>
            </button>
            <button class="sidebar-button sb" id="peer-button">
                <span class="material-symbols-outlined">
                    hub
                </span>
            </button>
            <div class="sidebar-bottom">
                <button class="sidebar-button sb" id="theme-button">
                    <span class="material-symbols-outlined">
                        light_mode
                    </span>
                </button>
                <button class="sidebar-button sb" id="settings-button">
                    <span class="material-symbols-outlined">
                        settings
                    </span>
                </button>
            </div>
        </div>

        <div class="sidebar" id="file-sidebar">
            <div class="sidebar-header">
                <button class="sidebar-button sb" id="new-button">
                    New
                </button>
                <button class="sidebar-button sb" id="export">
                    Export
                </button>
                <button class="sidebar-button sb" id="open">
                    <input id="import" accept=".msgpack" type="file">
                    Import
                </button>
            </div>
            <div id="file-sidebar-content"></div>
        </div>

        <div class="sidebar" id="image-sidebar">
            <button class="sidebar-button sb" id="load-img-button" class="button">
                Load Image
            </button>
            <div id="image-sidebar-content">
            </div>
        </div>

        <div class="sidebar" id="peer-sidebar">
            <button class="sidebar-button sb" id="host-button">
                Host
            </button>

            <div id="peer-sidebar-content">
                <label for="collab-link">Collaboration Link</label>
                <input id="collab-link" readonly placeholder="..."></input>
                <p id="local-peername"></p>
                Connected Peers
                <ul id="peer-list"></ul>
            </div>
        </div>

        <div id="undo-redo-buttons">
            <button id="undo-button">
                <span class="material-symbols-outlined">Undo</span>
            </button>
            <button id="redo-button">
                <span class="material-symbols-outlined">Redo</span>
            </button>
        </div>

        <div id="dialog-container">
        </div>
        <canvas id="snapshot-canvas"></canvas>
        <img id="snapshot-img">
    </div>

    <div id="content">
        <div id="translate">
            <div id="peer-cursors" class="no-print"></div>
            <div id="card-container">
                <div id="break-link-btns-container"></div>
            </div>
        </div>
    </div>

    <canvas id="canvas" class="unselectable"></canvas>
    <svg xmlns="http://www.w3.org/2000/svg" id="links-svg" class="unselectable">
        <g id="links-transform"></g>
    </svg>
</body>

</html>